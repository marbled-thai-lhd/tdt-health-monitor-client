# Laravel Health Monitor Package - Example Environment Configuration

# ================================================
# BASIC HEALTH MONITOR CONFIGURATION
# ================================================

# Enable or disable the health monitoring system
HEALTH_MONITOR_ENABLED=true

# URL of your central monitoring server where reports will be sent
HEALTH_MONITOR_URL=https://monitor.yourdomain.com/api/health-report

# Optional: Separate URL for backup notifications (falls back to HEALTH_MONITOR_URL if not set)
HEALTH_MONITOR_BACKUP_URL=https://monitor.yourdomain.com/api/backup-notification

# Secret API key for HMAC authentication (generate a secure random string)
HEALTH_MONITOR_API_KEY=your-super-secret-api-key-here

# Server identification (will be shown in monitoring dashboard)
HEALTH_MONITOR_SERVER_NAME=production-web-01
HEALTH_MONITOR_SERVER_IP=1.2.3.4

# How often to run health checks (in minutes)
HEALTH_MONITOR_INTERVAL=5

# Request timeout for API calls (in seconds)
HEALTH_MONITOR_TIMEOUT=30

# Number of retry attempts for failed API calls
HEALTH_MONITOR_RETRY_ATTEMPTS=3

# ================================================
# SUPERVISOR MONITORING CONFIGURATION
# ================================================

# Path to supervisor configuration directory
SUPERVISOR_CONFIG_PATH=/etc/supervisor/conf.d

# Path to supervisor socket file (auto-detect if not set)
SUPERVISOR_SOCKET_PATH=/var/run/supervisor.sock

# ================================================
# CRON MONITORING CONFIGURATION
# ================================================

# User whose crontab will be monitored (leave empty for current user)
CRON_USER=ec2-user

# ================================================
# QUEUE HEALTH CHECK CONFIGURATION
# ================================================

# Enable queue health checking
QUEUE_HEALTH_CHECK_ENABLED=true

# Comma-separated list of queues to monitor
QUEUE_HEALTH_CHECK_QUEUES=mails,summaries,payments,notifications

# Timeout for queue health check jobs (in seconds)
QUEUE_HEALTH_CHECK_TIMEOUT=30

# ================================================
# DATABASE BACKUP CONFIGURATION
# ================================================

# Enable automated database backups
DB_BACKUP_ENABLED=true

# Cron schedule for backups (default: daily at 2 AM)
DB_BACKUP_SCHEDULE="0 2 * * *"

# Number of days to keep local backup files
DB_BACKUP_RETENTION_DAYS=30

# ================================================
# AWS S3 BACKUP STORAGE CONFIGURATION
# ================================================

# S3 bucket name for storing backups
DB_BACKUP_S3_BUCKET=my-company-database-backups

# AWS region (uses AWS_DEFAULT_REGION if not set)
AWS_DEFAULT_REGION=ap-northeast-1

# S3 path prefix for backup files
DB_BACKUP_S3_PATH=database-backups

# AWS credentials for S3 access
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# ================================================
# CLIENT-SIDE LOGGING CONFIGURATION
# ================================================

# Enable client-side logging for health checks and backups
HEALTH_MONITOR_LOGGING_ENABLED=true

# Health Check Logging
HEALTH_LOG_ENABLED=true
HEALTH_LOG_PATH=storage/logs/health-check.log
HEALTH_LOG_LEVEL=info
HEALTH_LOG_DAILY=true
HEALTH_LOG_DAILY_DAYS=30

# Database Backup Logging
BACKUP_LOG_ENABLED=true
BACKUP_LOG_PATH=storage/logs/database-backup.log
BACKUP_LOG_LEVEL=info
BACKUP_LOG_DAILY=true
BACKUP_LOG_DAILY_DAYS=30

# ================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# ================================================

# Development Environment
# HEALTH_MONITOR_ENABLED=false
# HEALTH_MONITOR_SERVER_NAME=dev-local
# DB_BACKUP_ENABLED=false
# HEALTH_LOG_DAILY_DAYS=7
# BACKUP_LOG_DAILY_DAYS=7

# Staging Environment
# HEALTH_MONITOR_ENABLED=true
# HEALTH_MONITOR_SERVER_NAME=staging-web-01
# HEALTH_MONITOR_INTERVAL=10
# DB_BACKUP_ENABLED=true
# DB_BACKUP_SCHEDULE="0 4 * * *"
# HEALTH_LOG_DAILY_DAYS=15
# BACKUP_LOG_DAILY_DAYS=30

# Production Environment
# HEALTH_MONITOR_ENABLED=true
# HEALTH_MONITOR_SERVER_NAME=prod-web-01
# HEALTH_MONITOR_INTERVAL=5
# DB_BACKUP_ENABLED=true
# DB_BACKUP_SCHEDULE="0 2 * * *"
# DB_BACKUP_RETENTION_DAYS=30
# HEALTH_LOG_DAILY_DAYS=30
# BACKUP_LOG_DAILY_DAYS=90